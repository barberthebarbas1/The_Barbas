* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}



body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #0a0a0a 100%);
    color: #fff;
    min-height: 100vh;
}

/* Header */
header {
    background: rgba(0, 0, 0, 1);
    padding: 15px 0;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    position: sticky;
    top: 0;
    z-index: 100;
}

nav {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    flex-wrap: wrap;
    gap: 15px;
    width: 100%;
}

.logo {
    font-size: clamp(18px, 4vw, 28px);
    font-weight: bold;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 1px;
    white-space: nowrap;
}

.nav-links {
    display: flex;
    gap: 20px;
    list-style: none;
    flex-wrap: wrap;
}

.nav-links a {
    color: #fff;
    text-decoration: none;
    transition: color 0.3s;
    font-weight: 500;
    font-size: clamp(12px, 2vw, 16px);
}

.nav-links a:hover {
    color: #cccccc;
}

.hamburger {
    display: none;
    flex-direction: column;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 101;
    gap: 5px;
}

.hamburger span {
    width: 25px;
    height: 3px;
    background: #ffffff;
    transition: all 0.3s ease;
    border-radius: 3px;
}

.hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
}

.hamburger.active span:nth-child(2) {
    opacity: 0;
}

.hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
}

/* Cart FAB - Floating Action Button */
.cart-fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: #ffffff;
    border: none;
    border-radius: 50%;
    width: 65px;
    height: 65px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
    z-index: 10000;
    transition: all 0.3s ease;
}

.cart-fab:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

.cart-fab:active {
    transform: scale(0.95);
}

.cart-fab .cart-icon {
    font-size: 28px;
}

.cart-fab .cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #000000;
    color: #ffffff;
    border-radius: 50%;
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Hero Section */
.cart-sidebar {
    position: fixed;
    top: 0;
    right: 0;
    width: 90%;
    max-width: 420px;
    height: 100vh;
    background: rgba(0, 0, 0, 0.98);
    z-index: 10002;
    transform: translateX(100%);
    transition: transform 0.4s ease;
    display: flex;
    flex-direction: column;
    box-shadow: -5px 0 20px rgba(0, 0, 0, 0.5);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: env(safe-area-inset-bottom, 20px);
    padding-top: 0;
}

.cart-sidebar.active {
    transform: translateX(0);
}

/* Prevent scroll chaining: sidebars should have their own scroll and not scroll the page behind them */
.cart-sidebar,
.filters-sidebar,
.cart-items {
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
}

/* When a sidebar is open we want to lock the page scroll as a fallback for browsers
   where JS-based body overflow toggles may not be sufficient */
body.cart-open,
body.filters-open {
    overflow: hidden !important;
    touch-action: none;
}

/* Robust scroll lock used by JS: apply to html/body when sidebars open */
html.scroll-locked, body.scroll-locked {
    height: 100% !important;
    overflow: hidden !important;
}

/* Ensure sidebars are always anchored to the viewport top */
.cart-sidebar, .filters-sidebar {
    top: 0 !important;
}

.cart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 8px;
    margin: 0;
    height: 44px;
    min-height: 44px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.cart-header h2 {
    font-size: 24px;
    font-weight: 600;
    color: #ffffff;
    margin: 0;
    line-height: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.close-cart {
    background: transparent;
    border: none;
    color: #ffffff;
    font-size: 18px;
    cursor: pointer;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    transition: transform 0.3s ease;
}

@media (max-width: 420px) {
    .cart-header {
        padding: 4px 8px;
    }
    .cart-header h2 { font-size: 12px; }
    .close-cart { font-size: 18px; width: 22px; height: 22px; }
}

.close-cart:hover {
    transform: rotate(90deg);
}

.cart-items {
    flex: 1;
    overflow-y: auto;
    padding: 12px;
}

.empty-cart {
    text-align: center;
    padding: 28px 12px;
    color: #999999;
    font-size: 16px;
}

.cart-item {
    display: flex;
    gap: 12px;
    padding: 10px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 8px;
    margin-bottom: 6px;
}

.cart-item-image {
    width: 80px;
    height: 80px;
    border-radius: 6px;
    overflow: hidden;
    flex-shrink: 0;
}

.cart-item-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.cart-item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.cart-item-name {
    font-size: 16px;
    font-weight: 600;
    color: #ffffff;
    line-height: 1.3;
}

.cart-item-category {
    font-size: 12px;
    color: #999999;
    text-transform: uppercase;
}

.cart-item-quantity {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 8px 0;
}

.qty-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #ffffff;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    line-height: 1;
}

.qty-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
}

.qty-btn:active {
    transform: scale(0.9);
}

.qty-number {
    font-size: 16px;
    font-weight: 600;
    color: #ffffff;
    min-width: 30px;
    text-align: center;
}

.cart-item-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
}

.cart-item-price {
    font-size: 18px;
    font-weight: bold;
    color: #ffffff;
}

.remove-item {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #ffffff;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
}

.remove-item:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: rgba(255, 0, 0, 0.4);
}

.cart-footer {
    padding: 14px 16px;
    border-top: 1px solid rgba(255, 255, 255, 0.06);
    background: rgba(0, 0, 0, 1);
}

.cart-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 18px;
    font-weight: bold;
    color: #ffffff;
    margin-bottom: 12px;
}

.total-price {
    font-size: 24px;
}

.checkout-btn {
    width: 100%;
    padding: 15px;
    background: #ffffff;
    color: #000000;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.checkout-btn:hover {
    background: #f0f0f0;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
}

.btn-icon {
    font-size: 20px;
}

.cart-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 10001;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
}

.cart-overlay.active {
    opacity: 1;
    pointer-events: all;
}

/* Pulse animation for cart FAB when it has items */
.cart-fab.cart-has-items{
    animation: cart-pulse 1.6s cubic-bezier(.2,.9,.3,1) infinite;
    transform-origin: center center;
}
@keyframes cart-pulse{
    0%{ transform: scale(1); }
    50%{ transform: scale(1.06); }
    100%{ transform: scale(1); }
}
.cart-fab.cart-has-items:hover{
    animation-play-state: paused;
    transform: scale(1.06);
}

/* Floating notification (toast) - dark themed for products page */
.floating-notification{
    position:fixed;left:50%;transform:translateX(-50%);bottom:24px;background:linear-gradient(180deg,#222,#1b1b1b);color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,0.6);z-index:3500;font-weight:700;font-size:13px;opacity:0;pointer-events:none;transition:transform .22s ease,opacity .22s ease}
.floating-notification.show{opacity:1;transform:translateX(-50%) translateY(0)}
.floating-notification.hide{opacity:0;transform:translateX(-50%) translateY(8px)}

/* Hero Section */
.hero {
    background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                url('https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=1600') center/cover;
    padding: clamp(40px, 8vw, 80px) 20px;
    text-align: center;
    margin-bottom: 40px;
}

.hero h1 {
    font-size: clamp(24px, 6vw, 48px);
    margin-bottom: 15px;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: clamp(1px, 0.5vw, 3px);
}

.hero p {
    font-size: clamp(14px, 3vw, 20px);
    color: #ccc;
    max-width: 600px;
    margin: 0 auto;
    padding: 0 15px;
    line-height: 1.5;
}

/* Main Container */
.main-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px 60px;
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 40px;
    align-items: start;
}

/* Filtros Sidebar */
.filters-sidebar {
    position: sticky;
    top: 80px;
}

.filters-wrapper {
    display: flex;
    flex-direction: column;
    gap: 20px;
    background: rgba(20, 20, 20, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
}

.filters-header-mobile {
    display: none;
}

.mobile-filter-toggle {
    display: none;
}

.close-filters {
    display: none;
}

/* Search Box */
.search-box {
    position: relative;
    margin-bottom: 20px;
}

.search-input {
    width: 100%;
    padding: 12px 40px 12px 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 8px;
    color: #ffffff;
    font-size: 14px;
}

.search-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.search-input:focus {
    outline: none;
    border-color: rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.08);
}

.search-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 18px;
    pointer-events: none;
    color: #666666;
    opacity: 0.8;
}

.filter-box {
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 0;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.filter-box:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.filter-box-title {
    font-size: 16px;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.filter-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* Filtros */
.filter-btn {
    width: 100%;
    padding: 8px 12px;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: #ffffff;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    text-align: left;
}

.filter-btn.active {
    background: #ffffff;
    color: #000000;
    border-color: #ffffff;
    font-weight: 600;
}

/* Price Filter */
.price-filter {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.price-checkbox-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.price-checkbox-item:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.2);
}

.price-checkbox-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: #ffffff;
}

.checkbox-label {
    color: #ffffff;
    font-size: 14px;
    font-weight: 500;
    flex: 1;
}

/* Grid de Productos */
.products-container {
    width: 100%;
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: clamp(15px, 3vw, 25px);
}

.product-card {
    background: rgba(30, 30, 30, 0.8);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    display: flex;
    flex-direction: column;
    height: 100%;
    opacity: 1;
    transform: scale(1);
    transition: opacity 0.4s ease, transform 0.4s ease;
}

.product-card.hidden {
    opacity: 0;
    transform: scale(0.9);
    pointer-events: none;
}

.product-image {
    width: 100%;
    height: 180px;
    background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
}

.product-card:hover .product-image img {
    transform: scale(1.1);
}

.product-badge {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #333333;
    color: #fff;
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
}

.product-info {
    padding: clamp(12px, 2.5vw, 18px);
    display: flex;
    flex-direction: column;
    flex: 1;
}

.product-category {
    color: #999999;
    font-size: clamp(10px, 2vw, 12px);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: clamp(6px, 1.5vw, 10px);
}

.product-name {
    font-size: clamp(14px, 3vw, 20px);
    font-weight: bold;
    margin-bottom: clamp(6px, 1.5vw, 10px);
    color: #fff;
    line-height: 1.3;
}

.product-description {
    color: #aaa;
    font-size: clamp(12px, 2.5vw, 14px);
    line-height: 1.5;
    margin-bottom: clamp(8px, 1.5vw, 12px);
}

.product-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
    gap: 10px;
}

.product-price {
    font-size: clamp(16px, 4vw, 24px);
    font-weight: bold;
    color: #ffffff;
}

.add-to-cart {
    background: #ffffff;
    color: #000000;
    border: none;
    padding: clamp(8px, 2vw, 10px) clamp(15px, 3vw, 20px);
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
    font-size: clamp(12px, 2.5vw, 14px);
    white-space: nowrap;
}

.add-to-cart:hover {
    background: #cccccc;
}

/* Footer */
footer {
    background: rgba(0, 0, 0, 0.9);
    padding: 40px 20px;
    margin-top: 80px;
    text-align: center;
}

footer p {
    color: #888;
}

/* Responsive */
@media (max-width: 768px) {
    header {
        padding: 10px 0;
    }

    nav {
        padding: 0 20px;
        position: relative;
        justify-content: space-between;
        align-items: center;
        max-width: 100%;
    }

    .logo {
        position: static;
        transform: none;
        margin-right: auto;
    }

    .hamburger {
        display: flex;
        margin-left: auto;
    }

    .nav-links {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.98);
        flex-direction: row;
        justify-content: space-around;
        align-items: center;
        flex-wrap: nowrap;
        gap: 5px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease, padding 0.4s ease;
        z-index: 100;
        padding: 0 15px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    }

    .nav-links.active {
        max-height: 100px;
        padding: 15px;
    }

    .nav-links a {
        font-size: 13px;
        padding: 8px 10px;
        white-space: nowrap;
    }

    .main-container {
        grid-template-columns: 1fr;
        gap: 0;
        padding: 0 15px 40px;
        position: relative;
    }

    /* Botón para abrir filtros */
    .mobile-filter-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 12px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.15);
        color: #ffffff;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .mobile-filter-toggle span {
        font-size: 18px;
    }

    /* Panel lateral de filtros */
    .filters-sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 90%;
        max-width: 400px;
        height: 100vh;
        z-index: 10002;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        background: rgba(0, 0, 0, 0.95);
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
        padding-bottom: env(safe-area-inset-bottom, 20px);
    }

    .filters-sidebar.active {
        transform: translateX(0);
    }

    .filters-wrapper {
        padding: 64px 20px 20px;
        min-height: 100%;
        background: rgba(0, 0, 0, 1);
        border: none;
        border-radius: 0;
    }

    .filters-header-mobile {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: min(92vw, 420px);
        max-width: 420px;
        padding: 20px;
        background: rgba(0, 0, 0, 1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 201;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }

    .filters-sidebar.active .filters-header-mobile {
        transform: translateX(0);
    }

    /* Make cart header match filters header (position and dimensions) */
    .cart-sidebar .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        right: 0;
        width: min(92vw, 420px);
        max-width: 420px;
        padding: 20px;
        background: rgba(0, 0, 0, 1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        z-index: 201;
        transform: translateX(100%);
        transition: transform 0.3s ease;
    }

    .cart-sidebar.active .cart-header {
        transform: translateX(0);
    }

    .filters-header-mobile h3 {
        font-size: 18px;
        font-weight: 600;
        color: #ffffff;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin: 0;
    }

    .close-filters {
        display: flex;
        background: transparent;
        border: none;
        color: #ffffff;
        font-size: 32px;
        cursor: pointer;
        padding: 0;
        width: 32px;
        height: 32px;
        align-items: center;
        justify-content: center;
        line-height: 1;
    }

    .filter-box {
        padding-bottom: 12px;
        margin-bottom: 6px;
    }

    /* Overlay para cerrar filtros */
    body::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.7);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 199;
    }

    body.filters-open::after {
        opacity: 1;
        pointer-events: all;
    }

    .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .product-card {
        border-radius: 12px;
    }

    .product-image {
        height: 180px;
    }

    .product-badge {
        top: 8px;
        right: 8px;
        padding: 4px 10px;
        font-size: 10px;
    }

    footer {
        padding: 30px 15px;
        margin-top: 40px;
    }

    footer p {
        font-size: 12px;
    }
}

/* Tablet */
@media (min-width: 769px) and (max-width: 1024px) {
    .products-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Móviles pequeños */
@media (max-width: 480px) {
    nav {
        justify-content: center;
    }

    .nav-links {
        gap: 8px;
        justify-content: center;
        width: 100%;
    }

    .products-grid {
        gap: 10px;
    }

    .product-image {
        height: 150px;
    }

    .product-badge {
        padding: 3px 8px;
        font-size: 9px;
    }
}

/* Mobile-specific sidebar overrides for better responsiveness across browsers */
@media (max-width: 768px) {
    .cart-sidebar,
    .filters-sidebar {
        /* don't take whole screen width on mobile: allow a margin so page context is visible */
        width: min(92vw, 420px);
        max-width: 420px;
        height: 100vh !important;
        top: 0 !important;
        box-sizing: border-box;
        -webkit-transform: translateX(100%);
        transform: translateX(100%);
        -webkit-transition: -webkit-transform 0.35s ease;
        transition: transform 0.35s ease;
        /* reserve space for the mobile browser chrome + header inside the sidebar */
        --cart-header-height: 48px;
        padding-top: calc(var(--cart-header-height) + env(safe-area-inset-top, 10px));
        box-sizing: border-box;
    }

    /* Filters slide from left — ensure filter starts off-screen to the left */
    .filters-sidebar {
        left: 0 !important;
        right: auto !important;
        -webkit-transform: translateX(-100%);
        transform: translateX(-100%);
    }

    .cart-sidebar.active,
    .filters-sidebar.active {
        -webkit-transform: translateX(0) !important;
        transform: translateX(0) !important;
    }

    /* Cart should slide from the right edge and be anchored to the right */
    .cart-sidebar {
        right: 0 !important;
        left: auto !important;
    }

    /* Ensure header area inside sidebars is readable and not hidden behind the fixed header */
    .cart-sidebar .cart-header,
    .filters-sidebar .filters-header-mobile {
        padding-top: calc(6px + env(safe-area-inset-top, 0));
    }

    /* On mobile: position the cart header below the browser chrome and reserve space in the sidebar
       so the cart content is not hidden. The header is fixed to the viewport but the sidebar
       has a matching padding-top so its content starts below the fixed header. */
    .cart-sidebar {
        /* ensure the sidebar itself does not start under the browser bar */
        top: 0 !important;
        height: 100vh !important;
    }

    .cart-sidebar .cart-header {
        position: fixed;
        top: env(safe-area-inset-top, 0);
        right: 0;
        width: min(92vw, 420px);
        max-width: 420px;
        height: var(--cart-header-height);
        padding: 8px 12px;
        background: rgba(0,0,0,1);
        border-bottom: 1px solid rgba(255,255,255,0.08);
        z-index: 220;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        box-sizing: border-box;
    }

    .cart-sidebar.active .cart-header {
        transform: translateX(0);
    }

    /* Adjust cart-items height so they fit between header and footer */
    .cart-items {
        padding: 8px;
        /* make room for header and footer inside the 100vh viewport */
        max-height: calc(100vh - env(safe-area-inset-top, 0) - var(--cart-header-height) - 72px);
        overflow-y: auto;
    }

    .cart-footer {
        position: sticky;
        bottom: env(safe-area-inset-bottom, 10px);
        padding: 10px 12px;
        z-index: 230;
        background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,1));
    }

    /* Scoped mobile header rules: match filters header behavior without breaking desktop */
    .cart-sidebar .cart-header {
        position: fixed;
        top: 0;
        right: 0;
        width: min(92vw, 420px);
        max-width: 420px;
        padding: 12px;
        background: rgba(0, 0, 0, 1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        z-index: 201;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        height: 44px;
        box-sizing: border-box;
    }

    .cart-sidebar.active .cart-header {
        transform: translateX(0);
    }

    /* Compact the body of the cart so Finalizar is visible */
    .cart-items { padding: 8px; }
    .empty-cart { padding: 12px 8px; font-size: 15px; }
    .cart-item { padding: 8px; margin-bottom: 8px; }
    .cart-item-image { width: 64px; height: 64px; }

    .cart-footer {
        position: sticky;
        bottom: 0;
        padding: 10px 12px;
        border-top: 1px solid rgba(255,255,255,0.05);
        background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,1));
        z-index: 205;
    }

    .cart-total { margin-bottom: 8px; }
    .checkout-btn { padding: 10px; font-size: 14px; }

    /* Ensure FAB sits above overlays */
    .cart-fab { z-index: 10001; }

    /* Make overlay cover everything below sidebars */
    .cart-overlay { z-index: 9998; }
}
